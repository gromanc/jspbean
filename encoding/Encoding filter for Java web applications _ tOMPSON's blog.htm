<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 7) | !(IE 8)  ]><!-->
<html lang="en-US">
<!--<![endif]-->
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width" />
<title>Encoding filter for Java web applications | tOMPSON&#039;s blog</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="http://dertompson.com/xmlrpc.php" />
<!--[if lt IE 9]>
<script src="http://dertompson.com/wp-content/themes/twentytwelve/js/html5.js" type="text/javascript"></script>
<![endif]-->
<link rel="alternate" type="application/rss+xml" title="tOMPSON&#039;s blog &raquo; Feed" href="http://dertompson.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="tOMPSON&#039;s blog &raquo; Comments Feed" href="http://dertompson.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="tOMPSON&#039;s blog &raquo; Encoding filter for Java web applications Comments Feed" href="http://dertompson.com/2007/01/29/encoding-filter-for-java-web-applications/feed/" />
<link rel='stylesheet' id='jetpack-widgets-css'  href='http://dertompson.com/wp-content/plugins/jetpack/modules/widgets/widgets.css?ver=20121003' type='text/css' media='all' />
<link rel='stylesheet' id='twentytwelve-fonts-css'  href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700&#038;subset=latin,latin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='twentytwelve-style-css'  href='http://dertompson.com/wp-content/themes/twentytwelve/style.css?ver=3.5.1' type='text/css' media='all' />
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentytwelve-ie-css'  href='http://dertompson.com/wp-content/themes/twentytwelve/css/ie.css?ver=20121010' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='sharedaddy-css'  href='http://dertompson.com/wp-content/plugins/jetpack/modules/sharedaddy/sharing.css?ver=2.1.1' type='text/css' media='all' />
<script type='text/javascript' src='http://dertompson.com/wp-includes/js/jquery/jquery.js?ver=1.8.3'></script>
<script type='text/javascript' src='http://dertompson.com/wp-content/plugins/google-analyticator/external-tracking.min.js?ver=6.4.1'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://dertompson.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://dertompson.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Tomcat remote debugging' href='http://dertompson.com/2007/01/25/tomcat-remote-debugging/' />
<link rel='next' title='Another unbelievable speed run' href='http://dertompson.com/2007/01/30/another-unbelievable-speed-run/' />
<link rel='canonical' href='http://dertompson.com/2007/01/29/encoding-filter-for-java-web-applications/' />
<link rel='shortlink' href='http://wp.me/p24nVw-1o' />
	<link href="http://dertompson.com/wp-content/plugins/google-syntax-highlighter/Styles/SyntaxHighlighter.css" type="text/css" rel="stylesheet" />
		<link type="text/css" rel="stylesheet" href="http://dertompson.com/wp-content/plugins/syntax-highlighter-and-code-prettifier/styles/shCore.css" />
	<link type="text/css" rel="stylesheet" href="http://dertompson.com/wp-content/plugins/syntax-highlighter-and-code-prettifier/styles/shThemeDefault.css" />
	<script type="text/javascript" src="http://dertompson.com/wp-content/plugins/syntax-highlighter-and-code-prettifier/scripts/shCore.js"></script>
	<script type="text/javascript" src="http://dertompson.com/wp-content/plugins/syntax-highlighter-and-code-prettifier/scripts/shBrushBash.js"></script>
	<script type="text/javascript" src="http://dertompson.com/wp-content/plugins/syntax-highlighter-and-code-prettifier/scripts/shBrushCpp.js"></script>
	<script type="text/javascript" src="http://dertompson.com/wp-content/plugins/syntax-highlighter-and-code-prettifier/scripts/shBrushCSharp.js"></script>
	<script type="text/javascript" src="http://dertompson.com/wp-content/plugins/syntax-highlighter-and-code-prettifier/scripts/shBrushCss.js"></script>
	<script type="text/javascript" src="http://dertompson.com/wp-content/plugins/syntax-highlighter-and-code-prettifier/scripts/shBrushDelphi.js"></script>
	<script type="text/javascript" src="http://dertompson.com/wp-content/plugins/syntax-highlighter-and-code-prettifier/scripts/shBrushDiff.js"></script>
	<script type="text/javascript" src="http://dertompson.com/wp-content/plugins/syntax-highlighter-and-code-prettifier/scripts/shBrushGroovy.js"></script>
	<script type="text/javascript" src="http://dertompson.com/wp-content/plugins/syntax-highlighter-and-code-prettifier/scripts/shBrushJava.js"></script>
	<script type="text/javascript" src="http://dertompson.com/wp-content/plugins/syntax-highlighter-and-code-prettifier/scripts/shBrushJScript.js"></script>
	<script type="text/javascript" src="http://dertompson.com/wp-content/plugins/syntax-highlighter-and-code-prettifier/scripts/shBrushPerl.js"></script>
	<script type="text/javascript" src="http://dertompson.com/wp-content/plugins/syntax-highlighter-and-code-prettifier/scripts/shBrushPhp.js"></script>
	<script type="text/javascript" src="http://dertompson.com/wp-content/plugins/syntax-highlighter-and-code-prettifier/scripts/shBrushPlain.js"></script>
	<script type="text/javascript" src="http://dertompson.com/wp-content/plugins/syntax-highlighter-and-code-prettifier/scripts/shBrushPython.js"></script>
	<script type="text/javascript" src="http://dertompson.com/wp-content/plugins/syntax-highlighter-and-code-prettifier/scripts/shBrushRuby.js"></script>
	<script type="text/javascript" src="http://dertompson.com/wp-content/plugins/syntax-highlighter-and-code-prettifier/scripts/shBrushScala.js"></script>
	<script type="text/javascript" src="http://dertompson.com/wp-content/plugins/syntax-highlighter-and-code-prettifier/scripts/shBrushSql.js"></script>
	<script type="text/javascript" src="http://dertompson.com/wp-content/plugins/syntax-highlighter-and-code-prettifier/scripts/shBrushVb.js"></script>
	<script type="text/javascript" src="http://dertompson.com/wp-content/plugins/syntax-highlighter-and-code-prettifier/scripts/shBrushXml.js"></script>
	<script type="text/javascript">		
		SyntaxHighlighter.config.clipboardSwf = 'http://dertompson.com/wp-content/plugins/syntax-highlighter-and-code-prettifier/scripts/clipboard.swf';
		SyntaxHighlighter.all();
	</script>
	
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="Encoding filter for Java web applications" />
<meta property="og:url" content="http://dertompson.com/2007/01/29/encoding-filter-for-java-web-applications/" />
<meta property="og:description" content="Dealing correctly with encodings is one of the most important things in Java web applications (if not even in Java). The best way to avoid troubles with different encodings is to use only one encod..." />
<meta property="og:site_name" content="tOMPSON&#039;s blog" />
<!-- Google Analytics Tracking by Google Analyticator 6.4.1: http://www.videousermanuals.com/google-analyticator/ -->
<script type="text/javascript">
	var analyticsFileTypes = [''];
	var analyticsOutboundPrefix = '/outgoing/';
	var analyticsDownloadsPrefix = '/download/';
	var analyticsEventTracking = 'ga_enable';
</script>
<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-1686150-1']);
        _gaq.push(['_addDevId', 'i9k95']); // Google Analyticator App ID with Google 
        
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
</head>

<body class="single single-post postid-86 single-format-standard custom-font-enabled single-author">
<div id="page" class="hfeed site">
	<header id="masthead" class="site-header" role="banner">
		<hgroup>
			<h1 class="site-title"><a href="http://dertompson.com/" title="tOMPSON&#039;s blog" rel="home">tOMPSON&#039;s blog</a></h1>
			<h2 class="site-description">some personal, more technical &#8211; by Thomas Einwaller</h2>
		</hgroup>

		<nav id="site-navigation" class="main-navigation" role="navigation">
			<h3 class="menu-toggle">Menu</h3>
			<a class="assistive-text" href="#content" title="Skip to content">Skip to content</a>
			<div class="menu-top-container"><ul id="menu-top" class="nav-menu"><li id="menu-item-1086" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1086"><a href="http://dertompson.com/">Home</a></li>
<li id="menu-item-1085" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1085"><a href="http://about.me/tompson">about me</a></li>
</ul></div>		</nav><!-- #site-navigation -->

			</header><!-- #masthead -->

	<div id="main" class="wrapper">
	<div id="primary" class="site-content">
		<div id="content" role="main">

			
				
	<article id="post-86" class="post-86 post type-post status-publish format-standard hentry category-java category-web">
				<header class="entry-header">
									<h1 class="entry-title">Encoding filter for Java web applications</h1>
										<div class="comments-link">
					<a href="http://dertompson.com/2007/01/29/encoding-filter-for-java-web-applications/#comments" title="Comment on Encoding filter for Java web applications">11 Replies</a>				</div><!-- .comments-link -->
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p>Dealing correctly with encodings is one of the most important things in Java web applications (if not even in Java). The best way to avoid troubles with different encodings is to use only one encoding throughout the entire web application. The encoding of choice is UTF-8 which is able to deal with almost every known written language.</p>
<p>The first thing you have to ensure is that every content delivery from your server tells the client (browser) the correct encoding to use. You do this by setting the meta header field in your HTML pages:</p>
<p><code>&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8"&gt;</code></p>
<p>and define the contentType in the page directive of your JSP</p>
<p><code>&lt;%@ page language="java" contentType="text/html; charset=utf-8" pageEncoding="utf-8"%&gt;</code></p>
<p>The attribute pageEncoding tells the JSP compiler the encoding in which the JSP is stored on the disk.</p>
<p>Now your content should be delivered correctly to the client. The next important thing to do is to handle data the client sends to you with the correct encoding. Most application containers use a hard coded standard encoding do decode request data. For the Apache Tomcat the default encoding is iso-8859-1.</p>
<p>If you have an input form that is delivered in utf-8 the browser will submit the form data in the same encoding. Now you get a problem if you call request.getParameter in your application and the parameter contains special characters. To tell the application server the right encoding to decode your request you have to set request.setCharacterEncoding before accessing a request parameter the first time.</p>
<p>Therefore you should use a Filter like shown in the following code:</p>
<pre>public class EncodingFilter implements Filter {

	private String encoding = "utf-8";

	public void doFilter(ServletRequest request,

	ServletResponse response, FilterChain filterChain) throws IOException, ServletException {
		request.setCharacterEncoding(encoding);
		filterChain.doFilter(request, response);
	}

	public void init(FilterConfig filterConfig) throws ServletException {
		String encodingParam = filterConfig.getInitParameter("encoding");
		if (encodingParam != null) {
			encoding = encodingParam;
		}
	}

	public void destroy() {
		// nothing todo
	}

}</pre>
<p>You have to configure this filter in your web.xml to be executed before every request:</p>
<pre>&lt;filter&gt;

	&lt;filter-name&gt;EncodingFilter&lt;/filter-name&gt;
	&lt;filter-class&gt;
		net.einwaller.filters.EncodingFilter
	&lt;/filter-class&gt;

	&lt;init-param&gt;
		&lt;param-name&gt;encoding&lt;/param-name&gt;
		&lt;param-value&gt;UTF-8&lt;/param-value&gt;
	&lt;/init-param&gt;

&lt;/filter&gt;

&lt;filter-mapping&gt;
	&lt;filter-name&gt;EncodingFilter&lt;/filter-name&gt;
	&lt;url-pattern&gt;/*&lt;/url-pattern&gt;
&lt;/filter-mapping&gt;</pre>
<p>If you mind all these tips your web application will not have any encoding problems &#8211; EXCEPT with GET requests. In GET requests the parameters are encoded into the URL not in the body of the request like in POST requests. These parameters are handled different by the application container.</p>
<p>Tomcat again uses iso-8859-1 per default to decode those GET parameters regardless of which encoding is set in the request by your filter. To change this behavior you have to change connector configuration inside the server.xml of your Tomcat as <a href="http://tomcat.apache.org/tomcat-5.5-doc/config/http.html">described here</a>. The attribute <code>URIEncoding</code> defines a fixed encoding the server uses for every request. What we want to use is the attribute <code>useBodyEncodingForURI</code> which tells the server to use the encoding defined for the body for the GET parameters too.</p>
<div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-icon-text sd-sharing"><h3 class="sd-title">Share this:</h3><div class="sd-content"><ul><li class="share-facebook"><a rel="nofollow" class="share-facebook sd-button share-icon" href="http://dertompson.com/2007/01/29/encoding-filter-for-java-web-applications/?share=facebook" title="Share on Facebook" id="sharing-facebook-86"><span>Facebook</span></a></li><li class="share-twitter"><a rel="nofollow" class="share-twitter sd-button share-icon" href="http://dertompson.com/2007/01/29/encoding-filter-for-java-web-applications/?share=twitter" title="Click to share on Twitter" id="sharing-twitter-86"><span>Twitter</span></a></li><li class="share-google-plus-1"><a rel="nofollow" class="share-google-plus-1 sd-button share-icon" href="http://dertompson.com/2007/01/29/encoding-filter-for-java-web-applications/?share=google-plus-1" title="Click to share on Google+" id="sharing-google-86"><span>Google +1</span></a></li><li class="share-reddit"><a rel="nofollow" class="share-reddit sd-button share-icon" href="http://dertompson.com/2007/01/29/encoding-filter-for-java-web-applications/?share=reddit" title="Click to share on Reddit"><span>Reddit</span></a></li><li class="share-email"><a rel="nofollow" class="share-email sd-button share-icon" href="http://dertompson.com/2007/01/29/encoding-filter-for-java-web-applications/?share=email" title="Click to email this to a friend"><span>Email</span></a></li><li class="share-end"></li></ul><div class="sharing-clear"></div></div></div></div>					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="http://dertompson.com/category/java/" title="View all posts in Java" rel="category tag">Java</a>, <a href="http://dertompson.com/category/web/" title="View all posts in Web" rel="category tag">Web</a> on <a href="http://dertompson.com/2007/01/29/encoding-filter-for-java-web-applications/" title="9:41 pm" rel="bookmark"><time class="entry-date" datetime="2007-01-29T21:41:35+00:00">January 29, 2007</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="http://dertompson.com/author/tompson/" title="View all posts by tompson" rel="author">tompson</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->

				<nav class="nav-single">
					<h3 class="assistive-text">Post navigation</h3>
					<span class="nav-previous"><a href="http://dertompson.com/2007/01/25/tomcat-remote-debugging/" rel="prev"><span class="meta-nav">&larr;</span> Tomcat remote debugging</a></span>
					<span class="nav-next"><a href="http://dertompson.com/2007/01/30/another-unbelievable-speed-run/" rel="next">Another unbelievable speed run <span class="meta-nav">&rarr;</span></a></span>
				</nav><!-- .nav-single -->

				
<div id="comments" class="comments-area">

	
			<h2 class="comments-title">
			11 thoughts on &ldquo;<span>Encoding filter for Java web applications</span>&rdquo;		</h2>

		<ol class="commentlist">
				<li class="comment even thread-even depth-1" id="li-comment-66">
		<article id="comment-66" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/0964da79a4f325e6599a271595116164?s=44&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D44&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite class="fn">Klaus </cite><a href="http://dertompson.com/2007/01/29/encoding-filter-for-java-web-applications/comment-page-1/#comment-66"><time datetime="2007-02-05T14:15:32+00:00">February 5, 2007 at 2:15 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>A very good summary of tips to get UTF-8 to work with Tomcat !<br />
Additionally I use the following attribute in HTML form tags to ensure UTF-8 encoding of form data:<br />
accept-charset=&#8221;UTF-8&#8243;</p>
							</section><!-- .comment-content -->

			<div class="reply">
							</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li>
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-178">
		<article id="comment-178" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/935e404e771d4d921fcec924347d4c67?s=44&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D44&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite class="fn">Ronald </cite><a href="http://dertompson.com/2007/01/29/encoding-filter-for-java-web-applications/comment-page-1/#comment-178"><time datetime="2007-07-02T15:02:18+00:00">July 2, 2007 at 3:02 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Interesting approach, I like it..</p>
<p>Small typo though: EncofingFilter <img src='http://dertompson.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
							</section><!-- .comment-content -->

			<div class="reply">
							</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li>
	<li class="comment byuser comment-author-tompson bypostauthor even thread-even depth-1" id="li-comment-179">
		<article id="comment-179" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/724e23783c2df384427be92ac6d043bb?s=44&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D44&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite class="fn"><a href='http://dertompson.com' rel='external nofollow' class='url'>tompson</a> <span> Post author</span></cite><a href="http://dertompson.com/2007/01/29/encoding-filter-for-java-web-applications/comment-page-1/#comment-179"><time datetime="2007-07-02T15:21:20+00:00">July 2, 2007 at 3:21 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>thanks, fixed it</p>
							</section><!-- .comment-content -->

			<div class="reply">
							</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li>
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-181">
		<article id="comment-181" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/ac84bf2ba047e087e3a79d0b9e348ee5?s=44&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D44&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite class="fn"><a href='http://www.servletsuite.com' rel='external nofollow' class='url'>Denis</a> </cite><a href="http://dertompson.com/2007/01/29/encoding-filter-for-java-web-applications/comment-page-1/#comment-181"><time datetime="2007-07-03T07:15:05+00:00">July 3, 2007 at 7:15 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Check out encoding filters in JSOS: <a href="http://www.servletsuite.com/servlets.htm" rel="nofollow">http://www.servletsuite.com/servlets.htm</a></p>
							</section><!-- .comment-content -->

			<div class="reply">
							</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li>
	<li class="comment byuser comment-author-tompson bypostauthor even thread-even depth-1" id="li-comment-183">
		<article id="comment-183" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/724e23783c2df384427be92ac6d043bb?s=44&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D44&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite class="fn"><a href='http://dertompson.com' rel='external nofollow' class='url'>tompson</a> <span> Post author</span></cite><a href="http://dertompson.com/2007/01/29/encoding-filter-for-java-web-applications/comment-page-1/#comment-183"><time datetime="2007-07-03T19:28:57+00:00">July 3, 2007 at 7:28 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>thanks for that link Denis, seems like a big collection of useful things &#8211; I&#8217;ll have a look at some of these</p>
							</section><!-- .comment-content -->

			<div class="reply">
							</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li>
	<li class="pingback odd alt thread-odd thread-alt depth-1" id="comment-374">
		<p>Pingback: <a href='http://dertompson.com/index.php/2007/10/18/ajax-json-prototype-and-the-encoding/' rel='external nofollow' class='url'>tOMPSON&#8217;s blog &raquo; Blog Archive &raquo; Ajax, JSON, prototype and the encoding</a> </p>
	</li>
	<li class="pingback even thread-even depth-1" id="comment-576">
		<p>Pingback: <a href='http://dertompson.com/index.php/2008/03/29/there-aint-no-such-thing-as-plain-text/' rel='external nofollow' class='url'>tOMPSON&#8217;s blog &raquo; Blog Archive &raquo; There Ain&#8217;t No Such Thing as Plain Text</a> </p>
	</li>
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-2864">
		<article id="comment-2864" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/d5b9ce1a6662bad0470a793fd5a2b9ec?s=44&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D44&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite class="fn">Gaurav Arora </cite><a href="http://dertompson.com/2007/01/29/encoding-filter-for-java-web-applications/comment-page-1/#comment-2864"><time datetime="2011-11-29T12:27:32+00:00">November 29, 2011 at 12:27 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi,</p>
<p>  I am facing same problem in jsp application&#8230;.When i am applying Encoding Filter described above by you it and Try to access my application .it shows me Resource not available&#8230;.am i missing something in building filter &#8230;.As it seems it just filter all my urls and not allow to access any thing.</p>
<p>&#8230;<br />
Moreover i am trying to put gujarati text in mysql database and when i include </p>
<p>response.setCharacterEncoding(&#8220;UTF-8&#8243;);<br />
request.setCharacterEncoding(&#8220;UTF-8&#8243;);<br />
response.setContentType(&#8220;text/html;charset=UTF-8&#8243;);</p>
<p>in my jsp file then i receive a error following in my database :</p>
<p><a href="http://gu.wikipedia.org/wiki/" rel="nofollow">http://gu.wikipedia.org/wiki/</a>????????</p>
<p>when i do not include above lines it shows me junk character like this in database<br />
<a href="http://gu.wikipedia.org/wiki/àª®à«?àª?àªªà«?àª·à«?àª" rel="nofollow">http://gu.wikipedia.org/wiki/àª®à«?àª?àªªà«?àª·à«?àª</a></p>
<p>whereas my actual URL is<br />
<a href="http://gu.wikipedia.org/wiki/" rel="nofollow">http://gu.wikipedia.org/wiki/</a>????</p>
<p>Any help would be appreciated&#8230;.i have spent a lot of time on this and still not able to figure out what to do&#8230;</p>
							</section><!-- .comment-content -->

			<div class="reply">
							</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li>
	<li class="comment even thread-even depth-1" id="li-comment-2867">
		<article id="comment-2867" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/aaa49a36a94ad428fa7aff43ddc9a8a4?s=44&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D44&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite class="fn">Eswar </cite><a href="http://dertompson.com/2007/01/29/encoding-filter-for-java-web-applications/comment-page-1/#comment-2867"><time datetime="2011-12-01T15:53:24+00:00">December 1, 2011 at 3:53 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>The code is very much of fine&#8230; but  if i use websphere as server then wat r da changes i have to made&#8230;. plz help me</p>
							</section><!-- .comment-content -->

			<div class="reply">
							</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li>
	<li class="comment byuser comment-author-tompson bypostauthor odd alt thread-odd thread-alt depth-1" id="li-comment-2870">
		<article id="comment-2870" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/724e23783c2df384427be92ac6d043bb?s=44&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D44&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite class="fn"><a href='http://dertompson.com' rel='external nofollow' class='url'>tompson</a> <span> Post author</span></cite><a href="http://dertompson.com/2007/01/29/encoding-filter-for-java-web-applications/comment-page-1/#comment-2870"><time datetime="2011-12-04T23:18:08+00:00">December 4, 2011 at 11:18 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>@Gaurav Arora seems like you did not configure the GET request encoding in your Tomcat configuration</p>
<p>@Eswar should be the same &#8211; just the part with the GET request will be different</p>
							</section><!-- .comment-content -->

			<div class="reply">
							</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li>
	<li class="comment even thread-even depth-1" id="li-comment-3031">
		<article id="comment-3031" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/67271997afdf1788279a94a92f9817a0?s=44&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D44&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite class="fn">josh </cite><a href="http://dertompson.com/2007/01/29/encoding-filter-for-java-web-applications/comment-page-1/#comment-3031"><time datetime="2013-01-02T04:00:50+00:00">January 2, 2013 at 4:00 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi Tompson,<br />
Read through your post and it did enlighten me in how the filter works. However when I applied to my application, the encoding problem still exists. Could you help me look at where I did wrongly?<br />
Currently I&#8217;m using Eclipse+Tomcat7 to develop my JSP web project. In the web page I can display the unicode correctly from my database with no problem. However, when I submit the form to my backing bean, the characters are converted into the utf code (eg. a Chinese character ? will be converted and displayed as &#8216;&amp; # 2 1 7 0 4 ;&#8217; in my backing bean). I&#8217;ve tried several solutions including yours, unfortunately none of them work.<br />
My form submit process is from JSP page to managedbean (session bean) and then to JPA classes and lastly into database.<br />
Would you mind helping me for this problem?<br />
Thanks so much in advance.</p>
							</section><!-- .comment-content -->

			<div class="reply">
							</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li>
		</ol><!-- .commentlist -->

		
		
	
						
		<div id="respond">
			<div id="cancel-comment-reply-link" style="display:none; float:right;"><a href="#">Cancel Reply</a></div>
			<iframe src="http://jetpack.wordpress.com/jetpack-comment/?blogid=30597962&#038;postid=86&#038;comment_registration=0&#038;require_name_email=1&#038;stc_enabled=1&#038;stb_enabled=1&#038;show_avatars=1&#038;avatar_default=mystery&#038;greeting=Leave+a+Reply&#038;color_scheme=light&#038;lang=en-US&#038;jetpack_version=2.1.1&#038;sig=484b7b2c6ee862ec043b60725af93ed75cd5ecf6#parent=http%3A%2F%2Fdertompson.com%2F2007%2F01%2F29%2Fencoding-filter-for-java-web-applications%2F" allowtransparency="false" style="width:100%; height: 430px;border:0px;" frameBorder="0" scrolling="no" name="jetpack_remote_comment" id="jetpack_remote_comment"></iframe>
		</div>

		
		<input type="hidden" name="comment_parent" id="comment_parent" value="" />

					
</div><!-- #comments .comments-area -->
			
		</div><!-- #content -->
	</div><!-- #primary -->


			<div id="secondary" class="widget-area" role="complementary">
			<aside id="search-3" class="widget widget_search"><form role="search" method="get" id="searchform" action="http://dertompson.com/" >
	<div><label class="screen-reader-text" for="s">Search for:</label>
	<input type="text" value="" name="s" id="s" />
	<input type="submit" id="searchsubmit" value="Search" />
	</div>
	</form></aside><aside id="text-2" class="widget widget_text"><h3 class="widget-title">Other places to find me:</h3>			<div class="textwidget"><a href="mailto:tom@einwaller.net"><img src="/wp-content/uploads/socialicons/email-32x32.png" alt="email" /></a>
<a href="skype:tompson16?call"><img src="/wp-content/uploads/socialicons/skype-32x32.png" alt="skype:tompson16" /></a>
<a href="https://www.facebook.com/thomas.einwaller"><img src="/wp-content/uploads/socialicons/facebook-32x32.png" alt="facebook" /></a>
<a href="https://twitter.com/tompson"><img src="/wp-content/uploads/socialicons/twitter-32x32.png" alt="twitter" /></a>
<a href="https://plus.google.com/u/1/105926615018279766370/posts"><img src="/wp-content/uploads/socialicons/google+-32x32.png" alt="google+" /></a>
<a href="https://foursquare.com/tompson"><img src="/wp-content/uploads/socialicons/foursquare-32x32.png" alt="foursquare" /></a>
<a href="http://instagram.com/tompson"><img src="/wp-content/uploads/socialicons/instagram-32x32.png" alt="instagram" /></a>
<a href="http://www.flickr.com/photos/tompson/"><img src="/wp-content/uploads/socialicons/flickr-32x32.png" alt="flickr" /></a>
<a href="http://www.youtube.com/user/tompson16"><img src="/wp-content/uploads/socialicons/youtube-32x32.png" alt="youtube" /></a>
<a href="http://delicious.com/tompson"><img src="/wp-content/uploads/socialicons/delicious-32x32.png" alt="delicious" /></a>
<a href="http://www.linkedin.com/profile/view?id=130594927"><img src="/wp-content/uploads/socialicons/linkedin-32x32.png" alt="linkedin" /></a>
<a href="https://www.xing.com/profile/Thomas_Einwaller"><img src="/wp-content/uploads/socialicons/xing-32x32.png" alt="xing" /></a>
<a href="http://stackoverflow.com/users/30967/thomas-einwaller"><img src="/wp-content/uploads/socialicons/stackoverflow-32x32.png" alt="stackoverflow" /></a>
<a href="https://github.com/tompson"><img src="/wp-content/uploads/socialicons/github-32x32.png" alt="github" /></a></div>
		</aside><aside id="archives-3" class="widget widget_archive"><h3 class="widget-title">Archives</h3>		<ul>
			<li><a href='http://dertompson.com/2013/01/' title='January 2013'>January 2013</a></li>
	<li><a href='http://dertompson.com/2012/12/' title='December 2012'>December 2012</a></li>
	<li><a href='http://dertompson.com/2012/11/' title='November 2012'>November 2012</a></li>
	<li><a href='http://dertompson.com/2012/09/' title='September 2012'>September 2012</a></li>
	<li><a href='http://dertompson.com/2012/08/' title='August 2012'>August 2012</a></li>
	<li><a href='http://dertompson.com/2012/07/' title='July 2012'>July 2012</a></li>
	<li><a href='http://dertompson.com/2012/05/' title='May 2012'>May 2012</a></li>
	<li><a href='http://dertompson.com/2011/12/' title='December 2011'>December 2011</a></li>
	<li><a href='http://dertompson.com/2011/11/' title='November 2011'>November 2011</a></li>
	<li><a href='http://dertompson.com/2011/07/' title='July 2011'>July 2011</a></li>
	<li><a href='http://dertompson.com/2011/06/' title='June 2011'>June 2011</a></li>
	<li><a href='http://dertompson.com/2011/05/' title='May 2011'>May 2011</a></li>
	<li><a href='http://dertompson.com/2011/04/' title='April 2011'>April 2011</a></li>
	<li><a href='http://dertompson.com/2011/03/' title='March 2011'>March 2011</a></li>
	<li><a href='http://dertompson.com/2010/11/' title='November 2010'>November 2010</a></li>
	<li><a href='http://dertompson.com/2010/10/' title='October 2010'>October 2010</a></li>
	<li><a href='http://dertompson.com/2010/09/' title='September 2010'>September 2010</a></li>
	<li><a href='http://dertompson.com/2010/06/' title='June 2010'>June 2010</a></li>
	<li><a href='http://dertompson.com/2010/05/' title='May 2010'>May 2010</a></li>
	<li><a href='http://dertompson.com/2010/03/' title='March 2010'>March 2010</a></li>
	<li><a href='http://dertompson.com/2010/02/' title='February 2010'>February 2010</a></li>
	<li><a href='http://dertompson.com/2009/12/' title='December 2009'>December 2009</a></li>
	<li><a href='http://dertompson.com/2009/11/' title='November 2009'>November 2009</a></li>
	<li><a href='http://dertompson.com/2009/10/' title='October 2009'>October 2009</a></li>
	<li><a href='http://dertompson.com/2009/09/' title='September 2009'>September 2009</a></li>
	<li><a href='http://dertompson.com/2009/08/' title='August 2009'>August 2009</a></li>
	<li><a href='http://dertompson.com/2009/07/' title='July 2009'>July 2009</a></li>
	<li><a href='http://dertompson.com/2009/06/' title='June 2009'>June 2009</a></li>
	<li><a href='http://dertompson.com/2009/05/' title='May 2009'>May 2009</a></li>
	<li><a href='http://dertompson.com/2009/04/' title='April 2009'>April 2009</a></li>
	<li><a href='http://dertompson.com/2009/03/' title='March 2009'>March 2009</a></li>
	<li><a href='http://dertompson.com/2009/02/' title='February 2009'>February 2009</a></li>
	<li><a href='http://dertompson.com/2009/01/' title='January 2009'>January 2009</a></li>
	<li><a href='http://dertompson.com/2008/12/' title='December 2008'>December 2008</a></li>
	<li><a href='http://dertompson.com/2008/11/' title='November 2008'>November 2008</a></li>
	<li><a href='http://dertompson.com/2008/10/' title='October 2008'>October 2008</a></li>
	<li><a href='http://dertompson.com/2008/09/' title='September 2008'>September 2008</a></li>
	<li><a href='http://dertompson.com/2008/08/' title='August 2008'>August 2008</a></li>
	<li><a href='http://dertompson.com/2008/07/' title='July 2008'>July 2008</a></li>
	<li><a href='http://dertompson.com/2008/06/' title='June 2008'>June 2008</a></li>
	<li><a href='http://dertompson.com/2008/05/' title='May 2008'>May 2008</a></li>
	<li><a href='http://dertompson.com/2008/04/' title='April 2008'>April 2008</a></li>
	<li><a href='http://dertompson.com/2008/03/' title='March 2008'>March 2008</a></li>
	<li><a href='http://dertompson.com/2008/02/' title='February 2008'>February 2008</a></li>
	<li><a href='http://dertompson.com/2008/01/' title='January 2008'>January 2008</a></li>
	<li><a href='http://dertompson.com/2007/12/' title='December 2007'>December 2007</a></li>
	<li><a href='http://dertompson.com/2007/11/' title='November 2007'>November 2007</a></li>
	<li><a href='http://dertompson.com/2007/10/' title='October 2007'>October 2007</a></li>
	<li><a href='http://dertompson.com/2007/09/' title='September 2007'>September 2007</a></li>
	<li><a href='http://dertompson.com/2007/08/' title='August 2007'>August 2007</a></li>
	<li><a href='http://dertompson.com/2007/07/' title='July 2007'>July 2007</a></li>
	<li><a href='http://dertompson.com/2007/06/' title='June 2007'>June 2007</a></li>
	<li><a href='http://dertompson.com/2007/05/' title='May 2007'>May 2007</a></li>
	<li><a href='http://dertompson.com/2007/04/' title='April 2007'>April 2007</a></li>
	<li><a href='http://dertompson.com/2007/03/' title='March 2007'>March 2007</a></li>
	<li><a href='http://dertompson.com/2007/02/' title='February 2007'>February 2007</a></li>
	<li><a href='http://dertompson.com/2007/01/' title='January 2007'>January 2007</a></li>
	<li><a href='http://dertompson.com/2006/12/' title='December 2006'>December 2006</a></li>
	<li><a href='http://dertompson.com/2006/11/' title='November 2006'>November 2006</a></li>
	<li><a href='http://dertompson.com/2006/06/' title='June 2006'>June 2006</a></li>
	<li><a href='http://dertompson.com/2006/03/' title='March 2006'>March 2006</a></li>
	<li><a href='http://dertompson.com/2006/02/' title='February 2006'>February 2006</a></li>
	<li><a href='http://dertompson.com/2006/01/' title='January 2006'>January 2006</a></li>
	<li><a href='http://dertompson.com/2005/11/' title='November 2005'>November 2005</a></li>
	<li><a href='http://dertompson.com/2005/10/' title='October 2005'>October 2005</a></li>
	<li><a href='http://dertompson.com/2005/09/' title='September 2005'>September 2005</a></li>
	<li><a href='http://dertompson.com/2005/06/' title='June 2005'>June 2005</a></li>
		</ul>
</aside>		</div><!-- #secondary -->
		</div><!-- #main .wrapper -->
	<footer id="colophon" role="contentinfo">
		<div class="site-info">
						<a href="http://wordpress.org/" title="Semantic Personal Publishing Platform">Proudly powered by WordPress</a>
		</div><!-- .site-info -->
	</footer><!-- #colophon -->
</div><!-- #page -->

<script class="javascript" src="http://dertompson.com/wp-content/plugins/google-syntax-highlighter/Scripts/shCore.js"></script>
<script class="javascript" src="http://dertompson.com/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushCSharp.js"></script>
<script class="javascript" src="http://dertompson.com/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushPhp.js"></script>
<script class="javascript" src="http://dertompson.com/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushJScript.js"></script>
<script class="javascript" src="http://dertompson.com/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushJava.js"></script>
<script class="javascript" src="http://dertompson.com/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushVb.js"></script>
<script class="javascript" src="http://dertompson.com/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushSql.js"></script>
<script class="javascript" src="http://dertompson.com/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushXml.js"></script>
<script class="javascript" src="http://dertompson.com/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushDelphi.js"></script>
<script class="javascript" src="http://dertompson.com/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushPython.js"></script>
<script class="javascript" src="http://dertompson.com/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushRuby.js"></script>
<script class="javascript" src="http://dertompson.com/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushCss.js"></script>
<script class="javascript" src="http://dertompson.com/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushCpp.js"></script>
<script class="javascript">
dp.SyntaxHighlighter.ClipboardSwf = 'http://dertompson.com/wp-content/plugins/google-syntax-highlighter/Scripts/clipboard.swf';
dp.SyntaxHighlighter.HighlightAll('code');
</script>
	<div style="display:none">
	<div class="grofile-hash-map-0964da79a4f325e6599a271595116164">
	</div>
	<div class="grofile-hash-map-935e404e771d4d921fcec924347d4c67">
	</div>
	<div class="grofile-hash-map-724e23783c2df384427be92ac6d043bb">
	</div>
	<div class="grofile-hash-map-ac84bf2ba047e087e3a79d0b9e348ee5">
	</div>
	<div class="grofile-hash-map-d5b9ce1a6662bad0470a793fd5a2b9ec">
	</div>
	<div class="grofile-hash-map-aaa49a36a94ad428fa7aff43ddc9a8a4">
	</div>
	<div class="grofile-hash-map-67271997afdf1788279a94a92f9817a0">
	</div>
	</div>

	<script type="text/javascript">
		WPCOM_sharing_counts = {"http:\/\/dertompson.com\/2007\/01\/29\/encoding-filter-for-java-web-applications\/":86}	</script>
<script type='text/javascript' src='http://dertompson.com/wp-content/plugins/jetpack/modules/sharedaddy/sharing.js?ver=20121205'></script>
		<script type="text/javascript" charset="utf-8">
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-facebook' ).on( 'click', function() {
				window.open( jQuery(this).attr( 'href' ), 'wpcomfacebook', 'menubar=1,resizable=1,width=600,height=400' );
				return false;
			});
		});
		</script>
				<script type="text/javascript" charset="utf-8">
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-twitter' ).on( 'click', function() {
				window.open( jQuery(this).attr( 'href' ), 'wpcomtwitter', 'menubar=1,resizable=1,width=600,height=350' );
				return false;
			});
		});
		</script>
				<script type="text/javascript" charset="utf-8">
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-google-plus-1' ).on( 'click', function() {
				window.open( jQuery(this).attr( 'href' ), 'wpcomgoogle-plus-1', 'menubar=1,resizable=1,width=600,height=600' );
				return false;
			});
		});
		</script>
			<div id="sharing_email" style="display: none;">
		<form action="" method="post">
			<label for="target_email">Send to Email Address</label>
			<input type="text" name="target_email" id="target_email" value="" />

			
				<label for="source_name">Your Name</label>
				<input type="text" name="source_name" id="source_name" value="" />

				<label for="source_email">Your Email Address</label>
				<input type="text" name="source_email" id="source_email" value="" />

			
			
			<img style="float: right; display: none" class="loading" src="http://dertompson.com/wp-content/plugins/jetpack/modules/sharedaddy/images/loading.gif" alt="loading" width="16" height="16" />
			<input type="submit" value="Send Email" class="sharing_send" />
			<a href="#cancel" class="sharing_cancel">Cancel</a>

			<div class="errors errors-1" style="display: none;">
				Post was not sent - check your email addresses!			</div>

			<div class="errors errors-2" style="display: none;">
				Email check failed, please try again			</div>

			<div class="errors errors-3" style="display: none;">
				Sorry, your blog cannot share posts by email.			</div>
		</form>
	</div>
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201305'></script>
<script type='text/javascript' src='http://s.gravatar.com/js/gprofiles.js?ver=2013Febaa'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='http://dertompson.com/wp-content/plugins/jetpack/modules/wpgroho.js?ver=3.5.1'></script>
<script type='text/javascript' src='http://dertompson.com/wp-content/themes/twentytwelve/js/navigation.js?ver=1.0'></script>

		<!--[if IE]>
		<script type="text/javascript">
		if ( 0 === window.location.hash.indexOf( '#comment-' ) ) {
			// window.location.reload() doesn't respect the Hash in IE
			window.location.hash = window.location.hash;
		}
		</script>
		<![endif]-->
		<script type="text/javascript">
			var comm_par_el = document.getElementById( 'comment_parent' ),
			    comm_par = (comm_par_el && comm_par_el.value) ? comm_par_el.value : '',
			    frame = document.getElementById( 'jetpack_remote_comment' ),
			    tellFrameNewParent;

			tellFrameNewParent = function() {
				if ( comm_par ) {
					frame.src = "http:\/\/jetpack.wordpress.com\/jetpack-comment\/?blogid=30597962&postid=86&comment_registration=0&require_name_email=1&stc_enabled=1&stb_enabled=1&show_avatars=1&avatar_default=mystery&greeting=Leave+a+Reply&color_scheme=light&lang=en-US&jetpack_version=2.1.1&sig=484b7b2c6ee862ec043b60725af93ed75cd5ecf6#parent=http%3A%2F%2Fdertompson.com%2F2007%2F01%2F29%2Fencoding-filter-for-java-web-applications%2F" + '&replytocom=' + parseInt( comm_par, 10 ).toString();
				} else {
					frame.src = "http:\/\/jetpack.wordpress.com\/jetpack-comment\/?blogid=30597962&postid=86&comment_registration=0&require_name_email=1&stc_enabled=1&stb_enabled=1&show_avatars=1&avatar_default=mystery&greeting=Leave+a+Reply&color_scheme=light&lang=en-US&jetpack_version=2.1.1&sig=484b7b2c6ee862ec043b60725af93ed75cd5ecf6#parent=http%3A%2F%2Fdertompson.com%2F2007%2F01%2F29%2Fencoding-filter-for-java-web-applications%2F";
				}
			};

	
			if ( window.postMessage ) {
				if ( document.addEventListener ) {
					window.addEventListener( 'message', function( event ) {
						if ( "http:\/\/jetpack.wordpress.com" !== event.origin ) {
							return;
						}

						jQuery( frame ).height( event.data );
					} );
				} else if ( document.attachEvent ) {
					window.attachEvent( 'message', function( event ) {
						if ( "http:\/\/jetpack.wordpress.com" !== event.origin ) {
							return;
						}

						jQuery( frame ).height( event.data );
					} );
				}
			}
		</script>

	
	<script src="http://stats.wordpress.com/e-201305.js" type="text/javascript"></script>
	<script type="text/javascript">
	st_go({v:'ext',j:'1:2.1.1',blog:'30597962',post:'86',tz:'2'});
	var load_cmc = function(){linktracker_init(30597962,86,2);};
	if ( typeof addLoadEvent != 'undefined' ) addLoadEvent(load_cmc);
	else load_cmc();
	</script></body>
</html>